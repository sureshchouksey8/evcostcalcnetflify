<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EV Cost Advisor ‚Äî India</title>
<link rel="stylesheet" href="assets/app.css" />
</head>
<body>
  <div class="container">
    <header class="row">
      <div>
        <h1>EV Cost Advisor ‚Äî India</h1>
        <div class="subtitle">Compare <b>per-day</b> EV vs petrol costs. Pick a model to begin.</div>
      </div>
      <div class="pills">
        <div class="pill">üáÆüá≥ India</div><div class="pill">‚ö° EV</div><div class="pill">‚Çπ/day first</div>
      </div>
    </header>

    <div class="tabs">
      <button id="tab-cars" class="active">Cars</button>
      <button id="tab-scooters">Scooters</button>
    </div>

    <div class="tip">üí° Tip: Pick a model ‚Üí set km/day ‚Üí compare EV vs Petrol. Share a WhatsApp-ready image.</div>

    <div class="search">
      <input id="q" placeholder="Search brand, model, segment..." />
      <div id="resultCount" class="small mt8 muted"></div>
    </div>

    <div id="grid" class="grid"></div>
  </div>

  <!-- Calculator (mobile = bottom sheet, desktop = centered modal) -->
  <div id="overlay" class="overlay" aria-hidden="true">
    <div class="modal calc-modal" role="dialog" aria-modal="true">
      <div class="modal-head">
        <div class="row" style="gap:10px">
          <button id="infoBtn" class="badge-btn" title="How this is calculated">i Info</button>
          <button id="emiBtn" class="button">EMI</button>
          <button id="aiBtn" class="button" title="AI suggestion">‚ú® AI Analysis</button>
          <button id="compareBtn" class="button">Compare</button>
        </div>
        <div class="row">
          <button id="shareBtn" class="button">Share</button>
          <button id="closeBtn" class="button big-x" aria-label="Close">‚úï</button>
        </div>
      </div>
      <div class="modal-body">
        <div class="grid3">
          <!-- Left -->
          <div>
            <label class="small muted">City preset</label>
            <select id="citySel" class="mt8 input"></select>
            <div class="small mt8">Tariff: <span id="tariffView" class="tabnums">‚Äî</span> /kWh</div>

            <div class="mt16">
              <div class="row" style="justify-content:flex-start;gap:10px">
                <label class="small muted">Daily drive (km)</label>
                <span class="badge">Kitna Chalaoge?</span>
              </div>
              <input id="kmRange" type="range" min="0" max="200" step="1" value="20" class="mt8" />
              <div class="small muted mt8"><span id="kmVal" class="tabnums">20</span> km/day</div>
            </div>

            <div class="mt16">
              <label class="small muted">Petrol price (‚Çπ/L)</label>
              <input id="petrolIn" type="number" class="input mt8" value="100" />
            </div>

            <!-- Model switcher -->
            <div class="mt16">
              <label class="small muted">Switch model</label>
              <div class="row mt8" style="gap:8px">
                <button id="prevModel" class="badge-btn">‚óÄ Prev</button>
                <select id="modelSwitcher" class="input"></select>
                <button id="nextModel" class="badge-btn">Next ‚ñ∂</button>
              </div>
            </div>
          </div>

          <!-- Center -->
          <div>
            <div class="row" style="justify-content:flex-start;gap:10px"><span class="badge">Kitna Kharchoge?</span></div>
            <div class="tile ev mt8">
              <div class="small up">Cost per day (EV)</div>
              <div id="perDayEv" class="big tabnums">‚Äî</div>
              <div class="small" id="kmNoteEv">For 20 km/day</div>
            </div>
            <div class="tile ice mt16">
              <div class="small up">Cost per day (Petrol)</div>
              <div id="perDayIce" class="big tabnums">‚Äî</div>
              <div class="small" id="kmNoteIce">For 20 km/day</div>
            </div>

            <!-- Days slider placed here -->
            <div class="mt20" id="daysBlockCenter">
              <div class="row" style="gap:10px;align-items:center">
                <label class="small muted">Days per month</label>
                <div class="badge tabnums" id="daysBadge">26 days</div>
              </div>
              <input id="daysRange" type="range" min="1" max="31" step="1" value="26" class="mt8" />
            </div>

            <div class="row mt24">
              <div id="statMonthly" class="stat clickable" style="flex:1">
                <div class="row small muted"><span>Monthly running cost</span><span id="monthlyPair" class="tabnums">‚Äî</span></div>
                <div class="bar mt12"><div id="barEvM" class="fill" style="width:0%"></div></div>
                <div class="bar mt8"><div id="barIceM" class="fill icebar" style="width:0%"></div></div>
              </div>
              <div id="statYearly" class="stat clickable" style="flex:1">
                <div class="row small muted"><span>Yearly running cost</span><span id="yearlyPair" class="tabnums">‚Äî</span></div>
                <div class="bar mt12"><div id="barEvY" class="fill" style="width:0%"></div></div>
                <div class="bar mt8"><div id="barIceY" class="fill icebar" style="width:0%"></div></div>
              </div>
            </div>
          </div>

          <!-- Right -->
          <div class="right-rail">
            <img id="modelPhoto" alt="" />
            <svg class="gauge" viewBox="0 0 120 120" aria-hidden="true">
              <circle cx="60" cy="60" r="50" fill="none" stroke="#cbd5e1" stroke-width="12" stroke-opacity=".6"/>
              <g transform="rotate(-90 60 60)">
                <circle id="gProg" cx="60" cy="60" r="50" fill="none" stroke="#16a34a" stroke-width="12" stroke-linecap="round" stroke-dasharray="0 314"/>
              </g>
              <text id="gLabel" x="60" y="56" text-anchor="middle" fill="#0f172a" font-size="22" font-weight="800">‚Äî</text>
              <text id="gSub" x="60" y="80" text-anchor="middle" fill="#475569" font-size="12">Savings vs petrol</text>
            </svg>
            <div class="stat" style="text-align:center">
              <div id="modelName" class="modelTitle">‚Äî</div>
              <div id="modelInfo" class="small muted mt8">‚Äî</div>
              <div class="small muted mt8">Monthly savings</div>
              <div id="saveMonth" class="bold tabnums mt4" style="font-size:22px">‚Äî</div>
              <div id="goodFit" class="good mt8" style="display:none">üëç Good fit</div>
            </div>
            <div id="aiPanel" class="mt8">
              <div id="aiVerdict" class="bold">AI analysis</div>
              <div id="aiReasons" class="small mt8"></div>
              <div id="aiAlt" class="small mt8"></div>
              <label class="small mt8" style="display:inline-flex;gap:6px;align-items:center"><input id="aiAddShare" type="checkbox" /> Add AI line to share card</label>
            </div>
            <button id="openShare" class="button primary mt12" style="width:100%">Share this scenario</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Compare (big on desktop, swipe on mobile) -->
  <div id="compareOverlay" class="overlay" aria-hidden="true">
    <div class="modal compare-modal" role="dialog" aria-modal="true">
      <div class="modal-head">
        <div class="muted small">Compare models (EV vs Petrol included)</div>
        <div class="row">
          <button id="cmpPrev" class="button">‚óÄ</button>
          <button id="cmpNext" class="button">‚ñ∂</button>
          <button id="cmpClose" class="button big-x" aria-label="Close">‚úï</button>
        </div>
      </div>
      <div class="modal-body">
        <div class="cmpLayout">
          <!-- Left: Baseline (fixed) -->
          <div id="cmpBaseline" class="cmpCard baseline"></div>
          <!-- Right: Carousel -->
          <div class="cmpCarousel">
            <div id="cmpTrack" class="cmpTrack"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Minimal Info modal -->
  <div id="infoOverlay" class="overlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="modal-head">
        <div class="muted small" id="infoTitle">How costs are calculated</div>
        <button id="infoClose" class="button big-x">‚úï</button>
      </div>
      <div class="modal-body">
        <div id="infoContent" class="stat" style="max-width:820px;margin:auto;font-size:16px"></div>
      </div>
    </div>
  </div>

  <script src="assets/data.js" defer></script>
  <script src="assets/app.js" defer></script>
</body>
</html>
